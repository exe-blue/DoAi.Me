# DoAi.Me - Node PC Agent
# 복사 후 .env 로 저장: cp .env.example .env

# ── Worker Identity ──────────────────────────────
# PC identity for DB (pcs.pc_number). Format: ^PC[0-9]{2}$
PC_NUMBER=PC01
WORKER_NAME=node-pc-01
WORKER_ID=PC-01

# ── Supabase ─────────────────────────────────────
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# ── Xiaowei WebSocket ────────────────────────────
# Xiaowei control server URL (agent uses for ADB/device control)
XIAOWEI_WS_URL=ws://127.0.0.1:22222/

# 연결 직후 모든 디바이스에 optimize 1회 실행 (효과 줄임, 해상도 1080x1920)
# RUN_OPTIMIZE_ON_CONNECT=1

# 시청 완료 시 스크린샷 저장 경로 (파일명: 날짜시간-그날작업갯수누적.png)
# LOGGING_DIR=c:\logging

# ── Paths ───────────────────────────────────────
# Windows 경로 (agent가 Windows에서 실행되는 경우)
# SCRIPTS_DIR=C:\Users\user\farm_scripts
# SCREENSHOTS_DIR=C:\Users\user\farm_screenshots
# CONFIG_DIR=C:\Users\user\farm_config

# WSL2 Ubuntu 경로 (WSL2에서 실행되는 경우)
SCRIPTS_DIR=/mnt/c/Users/user/farm_scripts
SCREENSHOTS_DIR=/mnt/c/Users/user/farm_screenshots
CONFIG_DIR=/mnt/c/Users/user/farm_config

# Xiaowei tools 경로 (APK 파일 위치 - WSL2에서 Windows 파일 시스템 접근)
XIAOWEI_TOOLS_DIR=/mnt/c/Program Files (x86)/xiaowei/tools

# ── OpenAI (Phase 2 댓글 생성) ───────────────────
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini

# ── Intervals (ms) ──────────────────────────────
HEARTBEAT_INTERVAL=30000
TASK_POLL_INTERVAL=5000

# ── Concurrency ─────────────────────────────────
# Default max concurrent job_assignments per PC (can override via settings table)
MAX_CONCURRENT_TASKS=20

# ── Orchestrator (VideoDispatcher + claim) ───────
# IS_PRIMARY_PC=true   # primary PC만 job_assignments 생성
# DEBUG_ORCHESTRATOR=1 # claim 로그 (pcId, claim result)
# DEBUG_ORCHESTRATOR_CLAIM=1 # device-orchestrator claim 상세 로그
